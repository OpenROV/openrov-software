<link rel="import" href="../../../bower_components/polymer/polymer.html">
<polymer-element name="rov-gamepad" attributes="">
  <template>

    <link rel="stylesheet" href="../../../css/bootstrap.min.css">
    <link rel="stylesheet" href="../../../themes/OpenROV/css/style.css">

    <style>
      .indicator {
        top: 5px;
        height: 20px;
        line-height: 20px;
        padding: 10px 2px;
        background-color: transparent;
      }

      #gamepad img {
        padding: 10px 0px 10px;
        width: 32px;
      }

    </style>
    <a href="/#" id="gamepad" class="{{ ! gamepadConected ? 'hidden' : '' }}">
      <img id="gamepadPopover" src="../../../themes/OpenROV/img/gamepad.png" rel="popover">
    </a>

  </template>
  <script>
    (function() {
      Polymer({
        gamepadConected: false,
        ready: function() {
          var self = this;

          window.cockpit.rov.on('plugin.input.gamepad.connected', function() {
            self.gamepadConected = true;
          });
          window.cockpit.rov.on('plugin.input.gamepad.disconnected', function() {
            self.gamepadConected = false;
          });
        }
      })
    })();
  </script>

</polymer-element>
